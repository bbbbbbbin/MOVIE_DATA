# MOVIE_DATA
将2010-2017年电影的一些数据进行收集。

对2016,2017两年的数据进行数字化。

&nbsp;
&nbsp;

### 1、上映电影以及票房数据

利用boxoffice文件夹里的程序，将58921网站上2010到2017年的电影票房数据爬取下来，存放地址为data/boxoffice。  

&nbsp;
&nbsp;
 
### 2、电影的相关信息

利用douban文件夹里的程序movie_cralwer_with_api，先将与电影有关的豆瓣页面网址爬取下来（利用了豆瓣的api接口，进行电影片名的的搜索，找出片名类型为movie的数据，先根据电影片名进行筛选，选取正确的网址，再根据年份进行筛选，选取正确的网址，对于还是未能找到相关网页的数据，进行人工处理，添加或删去）数据存放地址为data/douban。通过豆瓣提供的api，将电影的相关信息读取。

&nbsp;

利用douban文件夹里的程序douban_movie_crawler，将豆瓣页面上的信息爬取下来，信息包括电影的片名，编剧，类型，导演，想看人数，主演，时长，上映日期。同时对电影的信息进行校对，针对上映日期错误的，进行人工的校正或剔除，对于因为电影名相同而错误爬取，进行人工的校正或剔除，对于爬取错误信息的电影，进行人工的校正或剔除。最终将数据保存在data/movie里。

&nbsp;

利用exact文件夹里的程序，对爬下来的数据进行整理，并写到data/exact中的表格里。针对表格里空白的数据，进行人工填充。

&nbsp;
&nbsp;

### 3、电影上映前90天微博相关量
将上面data/exact文件中的表格复制到sina/data里面，运行sina文件夹里的程序，得到全新的sina/data的数据。

&nbsp;
&nbsp;

### 4、电影上映前30天百度指数
将上面data/exact文件中的表格复制到baidu/data里面，运行baidu文件夹里的程序baidu，得到baidu/data里加baidu后缀的数据，运行文件夹里exact程序，计算30天的平均百度指数，补充到表格中。[(详细介绍)](https://blog.csdn.net/hcbbbb/article/details/82380418)

&nbsp;
&nbsp;

### 5、计算电影主创指数
用往年电影票房的数据计算主创指数。针对2010-2015的电影数据，对主创团队算取主创人员的指数。首先，构建明星矩阵，明星矩阵的元素代表，第i+2010年身为j职业创作的电影的票房（i为行，j为列，j对应为导演，编剧，主演，配角）。然后，对于明星矩阵，左右乘上一个权重矩阵，代表年份和职业对于电影票房的权重。最后，得到该明星的指数，将数据导入表中，得到主创人员指数表creator/json/act.xls。（主要程序creator/creator与creator/indexnum）

对2016-2017年的数据，将主创团队的人员用相对应的主创指数作为变量。（主要程序creator/exact）

&nbsp;
&nbsp;

### 6、电影类型数字化
对2010-2015的电影类型对应的票房进行统计，记录该类型在该年电影数和获得的总票房。

![类型票房](https://github.com/bbbbbbbin/MOVIE_DATA/blob/master/pic/2.png)

对2016-2017的电影类型，选取票房高的类型作为该变量。

（详见genre文件夹）

&nbsp;
&nbsp;

### 7、电影地区数字化
对2010-2015的电影地区对应的票房进行统计，记录该地区在该年电影数和获得的总票房。

![地区票房](https://github.com/bbbbbbbin/MOVIE_DATA/blob/master/pic/4.png)

对2016-2017的电影地区，选取票房高的地区作为该变量。

（详见produce文件夹）

&nbsp;
&nbsp;





